(function(){"use strict";var t={2579:function(t,e,o){var n=o(6369),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("div",[t._m(0),t._m(1),e("b-navbar",{attrs:{toggleable:"sm",type:"dark",variant:"info"}},[e("b-navbar-brand",{attrs:{to:"/"}},[t._v("TechShopping")]),e("b-navbar-toggle",{attrs:{target:"nav-collapse"}}),e("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[e("b-navbar-nav",[e("b-nav-item",{attrs:{to:"/",id:"navI"}},[t._v("Home")]),e("b-nav-item",{attrs:{to:"/products",id:"navI"}},[t._v("Products")])],1),e("b-navbar-nav",{staticClass:"ml-auto"},[t.token?e("b-nav-item",{attrs:{to:"/acc"}},[t._v("Accoount")]):t._e(),t.token?t._e():e("b-nav-item",{attrs:{to:"/register",id:"navI"}},[t._v("Register")]),t.token?e("b-nav-item",{on:{click:function(e){return t.logout()}}},[t._v("Log Out")]):e("b-nav-item",{attrs:{to:"/login",id:"navI"}},[t._v("Log In")])],1)],1)],1)],1),e("router-view",{staticClass:"stranica"})],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"inline-block"}},[e("strong",[t._v(" Raf Tech Store ")])])},function(){var t=this,e=t._self._c;return e("div",{staticStyle:{display:"inline-block","vertical-align":"top"}},[e("img",{attrs:{src:o(809),alt:"img"}})])}],s=o(3822),i={name:"App",data(){return{products:null,searchQuery:""}},computed:{...(0,s.rn)(["token"])},mounted(){localStorage.token&&this.setToken(localStorage.token)},methods:{...(0,s.OI)(["removeToken","setToken"]),logout(){this.removeToken()}}},l=i,c=o(1001),d=(0,c.Z)(l,r,a,!1,null,null,null),u=d.exports,m=o(2631),p=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("p"),e("div",[e("b-carousel",{staticStyle:{"text-shadow":"1px 1px 2px #333"},attrs:{id:"carousel-1",interval:3e3,controls:"",indicators:"",background:"#ababab","img-width":"1024","img-height":"480"},on:{"sliding-start":t.onSlideStart,"sliding-end":t.onSlideEnd},model:{value:t.slide,callback:function(e){t.slide=e},expression:"slide"}},[e("b-carousel-slide",{scopedSlots:t._u([{key:"img",fn:function(){return[e("img",{staticClass:"d-block img w-100",attrs:{width:"500",height:"450",src:o(3569),alt:"image slot"}})]},proxy:!0}])}),e("b-carousel-slide",{scopedSlots:t._u([{key:"img",fn:function(){return[e("img",{staticClass:"d-block img w-100",attrs:{width:"1024",height:"450",src:o(2162),alt:"image slot"}})]},proxy:!0}])}),e("b-carousel-slide",{scopedSlots:t._u([{key:"img",fn:function(){return[e("img",{staticClass:"d-block img w-100",attrs:{width:"1024",height:"450",src:o(9429),alt:"image slot"}})]},proxy:!0}])})],1)],1)])},h=[],f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"naslov"},[e("h1",[t._v("The Metropolitan Museum of Art")]),t.subtitle?e("h3",[t._v(t._s(t.subtitle))]):t._e()])},b=[],g={name:"Header",props:{subtitle:String}},v=g,w=(0,c.Z)(v,f,b,!1,null,"03a8a4d0",null),k=w.exports,S={name:"Home",data(){return{slide:0,sliding:null}},methods:{onSlideStart(t){this.sliding=!0},onSlideEnd(t){this.sliding=!1}},components:{Header:k}},_=S,y=(0,c.Z)(_,p,h,!1,null,null,null),A=y.exports,x=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("h1",[t._v("Create Account")]),e("br"),e("br"),e("br"),e("br"),e("b-form",{on:{submit:t.onSubmit}},[e("b-form-group",{attrs:{label:"First name:","label-for":"firstname"}},[e("b-form-input",{attrs:{id:"firstname",placeholder:"Enter first name",required:""},model:{value:t.form.firstname,callback:function(e){t.$set(t.form,"firstname",e)},expression:"form.firstname"}})],1),e("b-form-group",{attrs:{label:"Last Name:","label-for":"lastname"}},[e("b-form-input",{attrs:{id:"lastname",placeholder:"Enter last name",required:""},model:{value:t.form.lastname,callback:function(e){t.$set(t.form,"lastname",e)},expression:"form.lastname"}})],1),e("b-form-group",{attrs:{label:"Email address:","label-for":"email"}},[e("b-form-input",{attrs:{id:"email",type:"email",placeholder:"Enter email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),e("b-form-group",{attrs:{label:"Phone Number:","label-for":"phone"}},[e("b-form-input",{attrs:{id:"phone",type:"tel",placeholder:"Enter phone",required:""},model:{value:t.form.phone,callback:function(e){t.$set(t.form,"phone",e)},expression:"form.phone"}})],1),e("b-form-group",{attrs:{label:"Password:","label-for":"password"}},[e("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Enter password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),e("b-form-checkbox",{attrs:{id:"admin",value:!0,"unchecked-value":!1},model:{value:t.form.admin,callback:function(e){t.$set(t.form,"admin",e)},expression:"form.admin"}},[t._v("Admin")]),e("br"),e("b-button",{attrs:{type:"submit",variant:"info"}},[t._v("Submit")])],1)],1)},P=[],C={name:"Register",data(){return{form:{firstName:"",lastName:"",email:"",username:"",password:"",role:"Korisnik"}}},methods:{...(0,s.nv)(["register"]),onSubmit(t){t.preventDefault(),this.register(this.form),this.$router.push({name:"Home"})}}},j=C,O=(0,c.Z)(j,x,P,!1,null,"6d1c261e",null),R=O.exports,T=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("h1",[t._v("Login")]),e("br"),e("br"),e("br"),e("br"),e("div",{attrs:{id:"login"}},[e("b-form",{on:{submit:t.onSubmit}},[e("br"),e("br"),e("b-form-group",{attrs:{label:"Email:","label-for":"email"}},[e("b-form-input",{attrs:{id:"email",placeholder:"Enter email",required:""},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),e("b-form-group",{attrs:{label:"Password:","label-for":"password"}},[e("b-form-input",{attrs:{id:"password",type:"password",placeholder:"Enter password",required:""},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),e("b-button",{attrs:{type:"submit",variant:"info"}},[t._v("Submit")])],1)],1)])},I=[],B={name:"Login",data(){return{form:{email:"",password:""}}},methods:{...(0,s.nv)(["login"]),onSubmit(t){t.preventDefault(),this.form.email.length<2&&alert("Nedovoljan broj reci"),this.form.password.length<2&&alert("Nedovoljan broj reci"),this.login(this.form),this.$router.push({name:"Home"})}}},N=B,U=(0,c.Z)(N,T,I,!1,null,"9c98f5e6",null),E=U.exports,M=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("strong",[t._v("Products")]),e("ProductList")],1)},V=[],H=function(){var t=this,e=t._self._c;return e("div",[e("div",{staticClass:"view overlay"},[e("b-card-group",{attrs:{columns:""}},t._l(t.paginatedItems,(function(t){return e("SingleProduct",{key:t.id,attrs:{prod:t}})})),1)],1),e("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)},J=[],L=function(){var t=this,e=t._self._c;return e("div",[e("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"29rem"},attrs:{tag:"article"}},[e("b-img",{attrs:{src:t.prod.image,fluid:"",alt:"Fluid image"}}),e("b-card-text",[e("b",[t._v("Name: ")]),t._v(" "+t._s(t.prod.name)+" "),e("br"),e("b",[t._v("Price:")]),t._v(" "+t._s(t.prod.price)+" "),e("br")]),t.token?e("b-button",{attrs:{variant:"info ",id:"btn"},on:{click:function(e){t.modalShow=!t.modalShow}}},[t._v("Buy Product")]):t._e(),e("b-button",{attrs:{variant:"info ",id:"btn"},on:{click:function(e){return t.showProduct(t.prod.id)}}},[t._v("Show Product")]),e("b-modal",{attrs:{title:"Confirmation of the purchase of the product",size:"xl","header-bg-variant":"info","header-text-variant":"light"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("div",{staticClass:"w-100"},[e("b-button",{attrs:{variant:"info ",id:"btn"},on:{click:function(e){t.modalShow=!1}}},[t._v(" Confirm ")]),e("b-button",{attrs:{variant:"info ",id:"btn"},on:{click:function(e){t.modalShow=!1}}},[t._v(" Cancel ")])],1)]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}})],1)],1)},D=[],Z={name:"SingleProduct",data(){return{modalShow:!1}},computed:{...(0,s.rn)(["token"])},props:{prod:Object},methods:{showProduct(t){this.$router.push({name:"SingleItemView",params:{id:t}}),console.log(t)}}},q=Z,Q=(0,c.Z)(q,L,D,!1,null,"fd237a08",null),$=Q.exports,z={name:"ProductList",components:{SingleProduct:$},data(){return{prodList:[],paginatedItems:[],currentPage:1,perPage:6,totalRows:null}},computed:{...(0,s.rn)(["products"])},watch:{},mounted(){this.fetchProducts()},methods:{...(0,s.nv)(["fetchProducts"]),paginate(t,e){let o=this.prodList;this.paginatedItems=o.slice(e*t,(e+1)*t)},onPageChanged(t){this.paginate(this.perPage,t-1)}},watch:{products(t){this.prodList=this.products[0],this.totalRows=this.prodList.length,this.paginate(this.perPage,0)}}},F=z,Y=(0,c.Z)(F,H,J,!1,null,"604dcdfe",null),W=Y.exports,G={name:"Products",components:{ProductList:W}},K=G,X=(0,c.Z)(K,M,V,!1,null,"6c424274",null),tt=X.exports,et=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("br"),e("br"),e("br"),e("br"),e("div",{attrs:{id:"main"}},[e("div",{attrs:{id:"left"}},[e("b-img",{attrs:{id:"prodImage",src:t.prod.image}})],1),e("div",{attrs:{id:"right"}},[e("b-button",{attrs:{href:"/products",variant:"info"}},[t._v("Back")]),e("br"),e("br"),e("br"),e("br"),e("p",{attrs:{id:"pR"}},[t._v("Name: "+t._s(t.prod.name)+" ")]),e("p",{attrs:{id:"pR"}},[t._v("Weight: "+t._s(t.prod.weight)+" ")]),e("p",{attrs:{id:"pR"}},[t._v("Short description: "+t._s(t.prod.shortDesc)+" ")]),e("br"),e("strong",[t._v("Price "+t._s(t.prod.price)+"eu ")]),e("br"),e("br"),e("br"),e("div",[t.token?e("b-button",{attrs:{variant:"info"},on:{click:function(e){t.modalShow=!t.modalShow}}},[t._v("Add Recension")]):t._e(),e("b-button",{attrs:{id:"btn",variant:"info"},on:{click:function(e){t.modalShow2=!t.modalShow2}}},[t._v("Show Recension")])],1),e("b-modal",{attrs:{title:"Add Recension",size:"xl","header-bg-variant":"info","header-text-variant":"light"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("div",{staticClass:"w-100"},[e("b-button",{attrs:{variant:"info ",id:"btn"},on:{click:t.submitRecension}},[t._v(" Submit ")]),e("b-button",{attrs:{variant:"info ",id:"btn"},on:{click:t.cancel}},[t._v(" Cancel ")])],1)]},proxy:!0}]),model:{value:t.modalShow,callback:function(e){t.modalShow=e},expression:"modalShow"}},[e("div",[e("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1)]),e("b-modal",{attrs:{scrollable:"",title:"Recensions",size:"l","header-bg-variant":"info","header-text-variant":"light"},scopedSlots:t._u([{key:"modal-footer",fn:function(){return[e("div",{staticClass:"w-100"},[e("b-button",{attrs:{variant:"info ",id:"btn"},on:{click:t.cancel}},[t._v(" Back ")])],1)]},proxy:!0}]),model:{value:t.modalShow2,callback:function(e){t.modalShow2=e},expression:"modalShow2"}},t._l(t.recensions,(function(t){return e("Recension",{key:t.id,attrs:{rec:t}})})),1)],1)])])},ot=[],nt=function(){var t=this,e=t._self._c;return e("div",[e("b-card",{staticClass:"mb-2",staticStyle:{"max-width":"35rem"},attrs:{tag:"article"}},[e("b-card-text",[e("p",{attrs:{id:"pR"}},[t._v("User: "+t._s(t.rec.userId)+" ")]),e("br"),e("p",[t._v(t._s(t.rec.recension))])])],1)],1)},rt=[],at={name:"Recension",data(){return{}},props:{rec:Object}},st=at,it=(0,c.Z)(st,nt,rt,!1,null,"5bd0a7a4",null),lt=it.exports,ct={name:"SingleItemView",components:{Recension:lt},data(){return{prod:1,modalShow:!1,text:"",modalShow2:!1,recs:[],usr:Object}},computed:{...(0,s.rn)(["products","recensions","token","user"])},methods:{...(0,s.OI)(["removeToken","setToken"]),...(0,s.nv)(["createRecension","fetchRecensions","fetchProducts","getUser"]),submitRecension(){let t={recension:this.text,userId:this.usr.id,productId:this.$route.params.id};this.$socket.emit("rec",t),console.log(this.text),console.log(this.usr.id),console.log(this.$route.params.id),this.modalShow=!1,this.text=""},cancel(){this.modalShow=!1,this.modalShow2=!1,this.text=""}},mounted(){let t={var:1,token:localStorage.token};this.getUser(t),this.fetchProducts();let e={id:this.$route.params.id};this.fetchRecensions(e)},watch:{products(t){let e=t[0];this.prod=e[this.$route.params.id-1]},user(t){this.usr=t},recensions(t){}}},dt=ct,ut=(0,c.Z)(dt,et,ot,!1,null,"7dd834b8",null),mt=ut.exports;n["default"].use(m.Z);const pt=[{path:"/",name:"Home",component:A},{path:"/register",name:"Register",component:R},{path:"/login",name:"Login",component:E},{path:"/products",name:"Products",component:tt},{path:"/singleItem:id",name:"SingleItemView",component:mt}],ht=new m.Z({mode:"history",base:"/",routes:pt});var ft=ht;n["default"].use(s.ZP);var bt=new s.ZP.Store({state:{products:[],recensions:[],token:"",user:Object,userById:Object},mutations:{addProducts(t,e){t.products=[],t.products.push(e)},addRecensions(t,e){t.recensions=[],t.recensions=e},addRecensionSocket(t,e){t.recensions.push(e)},setUser(t,e){t.user=e},setUserById(t,e){t.userById=e},setToken(t,e){t.token=e,localStorage.token=e},removeToken(t){t.token="",localStorage.token=""}},actions:{fetchProducts({commit:t}){fetch("http://localhost:8020/products/products").then((t=>t.json())).then((e=>{t("addProducts",e)}))},fetchRecensions({commit:t},e){fetch("http://localhost:8020/recensions/vratiRecenzije",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((t=>t.json())).then((e=>{t("addRecensions",e)}))},fetchRecensionUser({commit:t},e){fetch("http://localhost:8020/recensions/vratiRecenzijeUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((t=>t.json())).then((e=>{t("addRecensions",e)}))},createRecension({commit:t},e){fetch("http://localhost:8020/recensions/dodajRecenziju",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((t=>t.json()))},getUser({commit:t},e){fetch("http://localhost:8020/users/getUser",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((t=>t.json())).then((e=>{t("setUser",e)}))},getUserById({commit:t},e){fetch("http://localhost:8020/users/getUserById",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((t=>t.json())).then((e=>{t("setUserById",e)}))},register({commit:t},e){fetch("http://localhost:9050/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((t=>t.json())).then((e=>{e.msg?alert(e.msg):t("setToken",e.token)}))},login({commit:t},e){fetch("http://localhost:9050/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}).then((t=>t.json())).then((e=>{e.msg?alert(e.msg):t("setToken",e.token)}))},socket_rec({commit:t},e){const o=JSON.parse(e);t("addRecensionSocket",o)}}}),gt=o(5996),vt=o(9425),wt=o(9557),kt=o.n(wt);o(7024);n["default"].use(gt.XG7),n["default"].use(vt.A7),n["default"].use(new(kt())({debug:!1,connection:"ws://localhost:7000",vuex:{store:bt,actionPrefix:"socket_"}})),n["default"].config.productionTip=!1,new n["default"]({router:ft,store:bt,render:t=>t(u)}).$mount("#app")},809:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAC30lEQVR42u2bS4wMURSGz4xHIkTCwmMlYimCYOG1Eu8gmIVHkEyIjaW3iEhkxGPJhkTCwsxCCMF4xMpjgyCxFbHyWLBAJMi0/+Sem75qbnffHtRR1edPvkx1VU3PPV/de6u6q6aNWjxt2g3QjgnQboB2TEDCPtNBB5iYuP//kAp4DS6BZwMVMAScBlsLVHhMxFmwA/xoVsAZsE27gr8UrmV7MwK42z+V7e9BJ7gDfmpXkpjBYBE4B8aS6wkzKDIcagnoAvtkeTm4qV3RAMNtvx7UdCBVwEWwXpZ5LijKkc+Ge4If+91gQ6oA3nldg32Kkor87KHqQTUBJsAEmAATYAJMgAkwASbABJgAE2ACTIAJMAEmwASYABNgAkyACTABPmW8NcY1bUwVUJabo8vAjaCm5JujLX97nNPSD0hwDgllmAQPC8kCToCdwes34AUVawhMBROCdSfBrhQBS8lNHLztK7kHjC6APu2qmkw72AxOgeHkegJP6L2NBDwCs6XgJeCudiV/mIXglgjh2ubWE8DPAr6S9dfAqsgbdgjt8pr3P0jV4bFGtuc9d/AR5ucCL0e2XQUrZZ9J5J4hjArYDY7JMl8I9UTe7DMYkVnH59veOtvzCv/tkZH1fFXbLct7wPFaAh6DmeAbGAO+RN7sPNgU/C73gHngnbzmc+8WqvaQvNInbeuMbOMD8gEMA0/ArJiAsPtfIdeVyxQeGqspMwxCASndv8iJDoNQQL3uz+fVxeS6UBHCNdym369bosPAC2jU/Y+CvdpVNRlu8/7Mun7DwAto1P3LIqDfMPAC7pObyWvN/kUaAoOk/dkhwAmHwQMw3wt4C8ZR5EqphHkI5pA7bY/3Al6CyeATWACeU/WrpLKEa50G7oFRUvMUL4C/KTmi3cKcwzV3eQFDyV1Hr9BuVU7h/yFYC76H1wG8zB8X+ePwaO0W/qN8JPfJkAVUfNEtHROg3QDtmADtBmjnF5kx40FfTdL+AAAAAElFTkSuQmCC"},9429:function(t,e,o){t.exports=o.p+"img/logitech.86799e73.png"},2162:function(t,e,o){t.exports=o.p+"img/macbook.190a52c5.png"},3569:function(t,e,o){t.exports=o.p+"img/razer.922411e0.jpg"}},e={};function o(n){var r=e[n];if(void 0!==r)return r.exports;var a=e[n]={exports:{}};return t[n].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,n,r,a){if(!n){var s=1/0;for(d=0;d<t.length;d++){n=t[d][0],r=t[d][1],a=t[d][2];for(var i=!0,l=0;l<n.length;l++)(!1&a||s>=a)&&Object.keys(o.O).every((function(t){return o.O[t](n[l])}))?n.splice(l--,1):(i=!1,a<s&&(s=a));if(i){t.splice(d--,1);var c=r();void 0!==c&&(e=c)}}return e}a=a||0;for(var d=t.length;d>0&&t[d-1][2]>a;d--)t[d]=t[d-1];t[d]=[n,r,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var n in e)o.o(e,n)&&!o.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){o.p="/"}(),function(){var t={143:0};o.O.j=function(e){return 0===t[e]};var e=function(e,n){var r,a,s=n[0],i=n[1],l=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(r in i)o.o(i,r)&&(o.m[r]=i[r]);if(l)var d=l(o)}for(e&&e(n);c<s.length;c++)a=s[c],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(d)},n=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=o.O(void 0,[998],(function(){return o(2579)}));n=o.O(n)})();
//# sourceMappingURL=app.2124a304.js.map